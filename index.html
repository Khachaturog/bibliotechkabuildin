<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion-like Table</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #fafafa;
            font-weight: 600;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        .tag {
            display: inline-block;
            padding: 4px 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            font-size: 12px;
            color: #333;
        }
        .sidepage {
            display: none;
            position: fixed;
            z-index: 1;
            top: 0;
            right: 0;
            width: 30%;
            height: 100%;
            overflow: auto;
            background-color: #fff;
            border-left: 1px solid #ddd;
            padding: 20px;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        .close {
            color: #888;
            float: right;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover {
            color: #333;
        }
    </style>
</head>
<body>

<h2>Зингилевский</h2>

<table>
    <tr>
        <th>Название</th>
        <th>Тип</th>
        <th>Дата публикации</th>
        <th>Number</th>
        <th>Files</th>
        <th>Youtube</th>
    </tr>
    <tr>
        <td>Неделя 1</td>
        <td><span class="tag">Общее</span></td>
        <td>01/01/2022</td>
        <td>1</td>
        <td></td>
        <td>youtube.com</td>
    </tr>
    <tr>
        <td>Гайд по Вконтакте</td>
        <td><span class="tag">Общее</span></td>
        <td>08/01/2022</td>
        <td>2</td>
        <td></td>
        <td></td>
    </tr>
    <!-- Add more rows as needed -->
</table>

<div id="mySidepage" class="sidepage">
    <span class="close" onclick="closeSidepage()">&times;</span>
    <h2>Row Details</h2>
    <p id="rowDetails"></p>
</div>

<script>
    async function fetchCSV() {
        try {
            const response = await fetch('data.csv'); // Убедитесь, что путь к CSV файлу правильный
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const data = await response.text();
            const rows = data.split('\n').slice(1); // Пропускаем заголовок

            const table = document.querySelector('table');

            rows.forEach(row => {
                const cols = row.split(',');
                if (cols.length > 1) { // Проверка на пустые строки
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${cols[0]}</td>
                        <td>${cols[1]}</td>
                        <td>${cols[2]}</td>
                        <td>${cols[3]}</td>
                        <td>${cols[4]}</td>
                        <td>${cols[5]}</td>
                    `;
                    table.appendChild(tr);
                }
            });
        } catch (error) {
            console.error('Ошибка при загрузке CSV:', error);
        }
    }

    function openSidepage(...cols) {
        const details = `
            Заголовок: ${cols[0]}
            URL 4: ${cols[1]}
            #: ${cols[2]}
            ← Назад_old: ${cols[3]}
            ⤵︎ Заголовок 5: ${cols[4]}
            Заголовок_ai: ${cols[5]}
            Саммари_ai: ${cols[6]}
            ⤵︎ Дата проведения/начала: ${cols[7]}
            URL 3: ${cols[8]}
            Автор(ы): ${cols[9]}
            Описание: ${cols[10]}
            Обновлено: ${cols[11]}
            Комментарий: ${cols[12]}
            ⤵︎ Заголовок 3: ${cols[13]}
            ⤵︎ Заголовок 2: ${cols[14]}
            ⤴ Дата завершения: ${cols[15]}
            ← Назад: ${cols[16]}
            ⤵︎ Заголовок 4: ${cols[17]}
            URL 1: ${cols[18]}
            ⤵︎ Заголовок 1: ${cols[19]}
            URL 5: ${cols[20]}
            Подгруппа: ${cols[21]}
            Описание_ai: ${cols[22]}
            Подподгруппа: ${cols[23]}
            Опубликовано: ${cols[24]}
            Группа: ${cols[25]}
            Статус: ${cols[26]}
            URL 2: ${cols[27]}
            Создано: ${cols[28]}
            Файлы: ${cols[29]}
            Автор_ai: ${cols[30]}
        `;
        document.getElementById('rowDetails').innerText = details;
        document.getElementById('mySidepage').style.display = "block";
    }

    function closeSidepage() {
        document.getElementById('mySidepage').style.display = "none";
    }

    // Fetch CSV data when the page loads
    window.onload = fetchCSV;
</script>

</body>
</html>

